# Uncomment to enable openstack provider
#---
#diskimages:
#  - name: dib-centos-7
#    elements:
#      - centos-minimal
#      - nodepool-minimal
#      - zuul-worker-user
#
#labels:
#  - name: dib-centos-7
#    min-ready: 1
#
#providers:
#  - name: default
#    cloud: default
#    clean-floating-ips: true
#    image-name-format: '{image_name}-{timestamp}'
#    boot-timeout: 120
#    rate: 10.0
#    diskimages:
#      - name: dib-centos-7
#    pools:
#      - name: main
#        max-servers: 5
#        networks:
#          - slave-net-name
#        labels:
#          - name: dib-centos-7
#            min-ram: 1024
#            diskimage: dib-centos-7

providers:
  - name: openstack
    cloud: openstack
    clean-floating-ips: true
    image-name-format: '{image_name}-{timestamp}'
    boot-timeout: 120
    rate: 10.0
    pools:
      - name: main
        max-servers: 2       
        networks:
          - zuul-net
#        labels:
#          - name: debian9-vm
#            min-ram: 2048
#            flavor-name: m1.small

labels:
  - name: debian9-vm
    min-ready: 0

extra-labels:
  - provider: openstack
    pool: main
    cloud-images:
      - name: a992d22d-fbb8-49a8-9282-46e9d75a7fa1
    labels:
      - name: debian9-vm
        cloud-image: a992d22d-fbb8-49a8-9282-46e9d75a7fa1
